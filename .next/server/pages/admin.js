"use strict";(()=>{var e={};e.id=964,e.ids=[964,660],e.modules={4071:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>u,getServerSideProps:()=>b,getStaticPaths:()=>h,getStaticProps:()=>x,reportWebVitals:()=>f,routeModule:()=>y,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>S});var a=r(7093),o=r(5244),n=r(1323),l=r(1682),i=r.n(l),c=r(8141),d=r.n(c),p=r(8227),m=e([p]);p=(m.then?(await m)():m)[0];let u=(0,n.l)(p,"default"),x=(0,n.l)(p,"getStaticProps"),h=(0,n.l)(p,"getStaticPaths"),b=(0,n.l)(p,"getServerSideProps"),g=(0,n.l)(p,"config"),f=(0,n.l)(p,"reportWebVitals"),S=(0,n.l)(p,"unstable_getStaticProps"),j=(0,n.l)(p,"unstable_getStaticPaths"),N=(0,n.l)(p,"unstable_getStaticParams"),v=(0,n.l)(p,"unstable_getServerProps"),w=(0,n.l)(p,"unstable_getServerSideProps"),y=new a.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/admin",pathname:"/admin",bundlePath:"",filename:""},components:{App:d(),Document:i()},userland:p});s()}catch(e){s(e)}})},2896:(e,t,r)=>{r.d(t,{Z:()=>d});var s=r(1185),a=r.n(s);let o=process.env.MONGO_URI;if(!o)throw Error("Please define the MONGO_URI variable for the MongoDB connection.");let n=global.mongo;async function l(){return n.conn||(n.promise||(n.promise=a().connect(o,{bufferCommands:!1}).then(e=>(console.log("MongoDB connected"),e))),n.conn=await n.promise),n.conn}n||(n=global.mongo={conn:null,promise:null});let i=new(r(5352)).Server({port:8080}),c={};i.on("connection",e=>{e.on("message",t=>{let r=JSON.parse(t);switch(r.type){case"join":let{roomId:s}=r;c[s]||(c[s]=[]),c[s].push(e);break;case"offer":case"answer":case"candidate":let a=c[r.roomId];a&&a.forEach(t=>{t!==e&&t.send(JSON.stringify(r))})}}),e.on("close",()=>{for(let t in c)c[t]=c[t].filter(t=>t!==e)})}),console.log("Signaling server is running on ws://localhost:8080");let d=l},8227:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>m,getServerSideProps:()=>p});var a=r(997),o=r(2896),n=r(6615),l=r(5595),i=r(6689),c=r(1163),d=e([n,l]);async function p(){await (0,o.Z)();let e=await n.default.find({}).lean();return{props:{appointments:JSON.parse(JSON.stringify(e))}}}[n,l]=d.then?(await d)():d;let m=({appointments:e})=>{let t=(0,c.useRouter)();return(0,i.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("user"));e&&e.isAdmin||t.push("/")},[t]),(0,a.jsxs)("div",{className:"flex flex-row bg-gray-100 min-h-screen",children:[a.jsx(l.default,{}),(0,a.jsxs)("div",{className:"flex-1 p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Admin Dashboard"}),a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md",children:(0,a.jsxs)("table",{className:"min-w-full bg-white",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-blue-500 text-white",children:[a.jsx("th",{className:"py-3 px-4 border-b",children:"Doctor"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Patient"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Date"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Time"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Status"})]})}),a.jsx("tbody",{children:e.length>0?e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-100",children:[a.jsx("td",{className:"py-3 px-4 border-b",children:e.doctor}),a.jsx("td",{className:"py-3 px-4 border-b",children:e.patient}),a.jsx("td",{className:"py-3 px-4 border-b",children:new Date(e.date).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4 border-b",children:e.time}),a.jsx("td",{className:"py-3 px-4 border-b",children:e.status})]},e._id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"py-3 px-4 text-center",children:"No appointments found."})})})]})})]})]})};s()}catch(e){s(e)}})},7197:e=>{e.exports=require("@fortawesome/react-fontawesome")},1185:e=>{e.exports=require("mongoose")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},5352:e=>{e.exports=require("ws")},303:e=>{e.exports=import("@fortawesome/free-brands-svg-icons")},4563:e=>{e.exports=import("@fortawesome/free-solid-svg-icons")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[309,682,633,664,163,823],()=>r(4071));module.exports=s})();