(()=>{var e={};e.id=964,e.ids=[964,660],e.modules={4071:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>u,getServerSideProps:()=>b,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>f,routeModule:()=>y,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>w});var a=r(7093),n=r(5244),o=r(1323),i=r(1682),l=r.n(i),c=r(8141),d=r.n(c),p=r(8227),h=e([p]);p=(h.then?(await h)():h)[0];let u=(0,o.l)(p,"default"),m=(0,o.l)(p,"getStaticProps"),x=(0,o.l)(p,"getStaticPaths"),b=(0,o.l)(p,"getServerSideProps"),g=(0,o.l)(p,"config"),f=(0,o.l)(p,"reportWebVitals"),w=(0,o.l)(p,"unstable_getStaticProps"),j=(0,o.l)(p,"unstable_getStaticPaths"),S=(0,o.l)(p,"unstable_getStaticParams"),N=(0,o.l)(p,"unstable_getServerProps"),v=(0,o.l)(p,"unstable_getServerSideProps"),y=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/admin",pathname:"/admin",bundlePath:"",filename:""},components:{App:d(),Document:l()},userland:p});s()}catch(e){s(e)}})},8220:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});let s=require("mongoose");var a=r.n(s);let n=process.env.MONGO_URI;if(!n)throw Error("Please define the MONGO_URI variable for the MongoDB connection.");let o=global.mongo;async function i(){return o.conn||(o.promise||(o.promise=a().connect(n,{bufferCommands:!1}).then(e=>(console.log("MongoDB connected"),e))),o.conn=await o.promise),o.conn}o||(o=global.mongo={conn:null,promise:null});let l=new(r(5352)).Server({port:8080}),c={};l.on("connection",e=>{e.on("message",t=>{let r=JSON.parse(t);switch(r.type){case"join":let{roomId:s}=r;c[s]||(c[s]=[]),c[s].push(e);break;case"offer":case"answer":case"candidate":let a=c[r.roomId];a&&a.forEach(t=>{t!==e&&t.send(JSON.stringify(r))})}}),e.on("close",()=>{for(let t in c)c[t]=c[t].filter(t=>t!==e)})}),console.log("Signaling server is running on ws://localhost:8080");let d=i},8227:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p,getServerSideProps:()=>d});var a=r(997),n=r(8220),o=r(5595),i=r(6689),l=r(1163),c=e([o]);async function d(){await (0,n.Z)();let e=await Appointment.find({}).lean();return{props:{appointments:JSON.parse(JSON.stringify(e))}}}o=(c.then?(await c)():c)[0];let p=({appointments:e})=>{let t=(0,l.useRouter)();return(0,i.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("user"));e&&e.isAdmin||t.push("/")},[t]),(0,a.jsxs)("div",{className:"flex flex-row bg-gray-100 min-h-screen",children:[a.jsx(o.default,{}),(0,a.jsxs)("div",{className:"flex-1 p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Admin Dashboard"}),a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md",children:(0,a.jsxs)("table",{className:"min-w-full bg-white",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-blue-500 text-white",children:[a.jsx("th",{className:"py-3 px-4 border-b",children:"Doctor"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Patient"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Date"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Time"}),a.jsx("th",{className:"py-3 px-4 border-b",children:"Status"})]})}),a.jsx("tbody",{children:e.length>0?e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-100",children:[a.jsx("td",{className:"py-3 px-4 border-b",children:e.doctor}),a.jsx("td",{className:"py-3 px-4 border-b",children:e.patient}),a.jsx("td",{className:"py-3 px-4 border-b",children:new Date(e.date).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4 border-b",children:e.time}),a.jsx("td",{className:"py-3 px-4 border-b",children:e.status})]},e._id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"py-3 px-4 text-center",children:"No appointments found."})})})]})})]})]})};s()}catch(e){s(e)}})},5595:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>h});var a=r(997);r(4542);var n=r(1664),o=r.n(n),i=r(7197),l=r(4563),c=r(303),d=r(1163),p=e([l,c]);[l,c]=p.then?(await p)():p;let h=function(){let e=(0,d.useRouter)(),t=[{href:"/admin/users",label:"Users",icon:l.faUser},{href:"/admin/doctors",label:"Doctors",icon:l.faUserDoctor},{href:"/admin/appointments",label:"Appointments",icon:l.faCalendarCheck},{href:"/admin/chat",label:"Chat",icon:c.faRocketchat}];return(0,a.jsxs)("div",{className:"h-screen w-60 greenn shadow-lg",children:[(0,a.jsxs)("h1",{className:"text-3xl text-orange-300 font-bold pt-10 text-center font-serif",children:["Admin ",a.jsx("br",{})," Dashboard"]}),a.jsx("div",{className:"space-y-4 ml-4 pt-12",children:t.map(({href:t,label:r,icon:s})=>a.jsx("div",{className:`flex items-center h-16 w-48 rounded-lg transition-all duration-300 
                        ${e.pathname===t?"bg-white bg-opacity-45":"bg-white bg-opacity-20 hover:bg-white hover:bg-opacity-40 "}
                        cursor-pointer`,children:(0,a.jsxs)(o(),{href:t,"aria-label":r,className:"flex  items-center w-full px-4",children:[a.jsx(i.FontAwesomeIcon,{icon:s,className:"h-10 w-10 mr-3 text-orange-300 "}),a.jsx("h1",{className:"text-lg text-gray-200 ",children:r})]})},t))})]})};s()}catch(e){s(e)}})},4542:()=>{},7197:e=>{"use strict";e.exports=require("@fortawesome/react-fontawesome")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5352:e=>{"use strict";e.exports=require("ws")},303:e=>{"use strict";e.exports=import("@fortawesome/free-brands-svg-icons")},4563:e=>{"use strict";e.exports=import("@fortawesome/free-solid-svg-icons")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[682,239,664,163],()=>r(4071));module.exports=s})();