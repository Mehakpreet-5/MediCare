(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(1662)}])},9305:function(e,s){"use strict";s.Z={src:"/_next/static/media/dr.cd943f5b.png",height:454,width:550,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/AeD3/wAD/wAS3uXtVL2KaWb57OCkaa7Ks+zh7wQEBwjZAc7t/wAC+vi//v/+QBzXpgD4ECT87B09/wL8+foAAAFCAc7k9XAGBgOP4+nz+w7VuwLwBxYDEDI8/g0H/wL8/f6dAdLo95v3+v5khpXC/Pbv8gQXDwv//Pvg/WpoUQQUFhpoAdz7/zHm1ePMx7PJAq71Gf1eFugBNA7OAv1BdgAODgp4Af3v3gDc+RO5AdnJRufd6gDI3ewAP0s87w4kLBH3+/6sAf///wAAAAADc5zPhxvp3U7m+Qv4xSErZ6JTHQ3z8fXv9Y57XZOxFzkAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7}},1662:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7536),n=t(7294);t(6501);var i=t(1163),l=t(5675),o=t.n(l),d=t(9305),c=t(1664),u=t.n(c);s.default=()=>{let{register:e,handleSubmit:s,formState:{errors:t}}=(0,r.cI)(),[l,c]=(0,n.useState)(""),[m,g]=(0,n.useState)(!1),A=(0,i.useRouter)(),h=async e=>{g(!0);try{let s=await fetch("http://localhost:5000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();s.ok?(c("Login successful!"),localStorage.setItem("user",JSON.stringify(t.user)),t.user.isAdmin?A.push("/admin"):A.push("/")):c(t.message||"Login failed. Please try again.")}catch(e){c("Login failed. Please check your credentials.")}finally{g(!1)}};return(0,a.jsxs)("div",{className:"flex flex-row space-x-40 items-center h-screen bg-gradient-to-r from-cyan-100 to-white",children:[(0,a.jsx)("div",{className:"lg:ml-80 ml-16",children:(0,a.jsxs)("form",{onSubmit:s(h),className:"bg-transparent p-8 pt-14 rounded-lg shadow-lg w-96 transition-transform transform hover:scale-105",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold mb-10 text-center text-gray-700",children:"Login"}),l&&(0,a.jsx)("p",{className:"text-center mb-4 text-red-500",children:l}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block mb-2 text-gray-600 font-medium",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",...e("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email is not valid"}}),className:"border-2 p-2 w-full rounded-lg transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(t.email?"border-red-500":"border-gray-300")}),t.email&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:t.email.message})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block mb-2 text-gray-600 font-medium",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",...e("password",{required:"Password is required"}),className:"border-2 p-2 w-full rounded-lg transition duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(t.password?"border-red-500":"border-gray-300")}),t.password&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:t.password.message})]}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-400 text-white py-2 px-4 rounded-lg w-full transition duration-300 transform hover:bg-blue-500 hover:scale-105",disabled:m,children:m?"Logging in...":"Login"}),(0,a.jsxs)("p",{className:"mt-4 text-center text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(u(),{href:"/signup",className:"text-blue-500 hover:underline",children:"Sign up"})]})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(o(),{src:d.Z,className:"h-96 w-full",alt:"Login Image"})})]})}},6501:function(){}},function(e){e.O(0,[664,675,998,709,888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);